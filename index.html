<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Habitify â€” Dashboard</title>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- DARK MODE TOGGLE -->
  <button id="darkToggle" class="dark-toggle" aria-label="Toggle dark mode">ğŸŒ™</button>

  <!-- WELCOME -->
  <main id="welcome" class="page-center">
    <div class="glass-card glow" role="region" aria-label="Welcome card">
      <!-- inline logo (green leaf + eye) -->
      <div class="logo-wrap" aria-hidden="true">
        <svg class="logo" viewBox="0 0 120 120" width="92" height="92" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0" stop-color="#79d28b"/>
              <stop offset="1" stop-color="#00b074"/>
            </linearGradient>
            <filter id="f" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#0a6b44" flood-opacity="0.18"/>
            </filter>
          </defs>
          <rect x="6" y="6" width="108" height="108" rx="22" fill="url(#g1)" filter="url(#f)"/>
          <path d="M30 80 C58 52 90 52 92 52 C78 30 44 28 30 46 C24 54 24 68 30 80 Z" fill="#fff" opacity="0.18"/>
          <path d="M34 64 C46 46 74 46 86 64 C74 82 46 82 34 64 Z" fill="#ffffff" />
          ircle cx="60" cy="64" r="10" fill="#79d28b"/>
          ircle cx="60" cy="64" r="4" fill="#fff"/>
        </svg>
      </div>

      <!-- title will be replaced by script.js with user_name -->
      <h1 class="title">Welcome, <span>friend</span></h1>
      <p class="lead">Health is wealth â€” small consistent habits build big change.</p>

      <div class="quote" id="movingQuote" aria-live="polite"></div>

      <div class="welcome-actions">
        <button id="startBtn" class="btn primary">Start Your Journey â†’</button>
      </div>
    </div>
  </main>

  <!-- DASHBOARD -->
  <main id="dashboard" class="page" style="display:none;">
    <header class="header">
      <div>
        <h2>Your Habits</h2>
        <p class="muted">
          Tick what you completed today. Click <strong>Finish Day</strong> to get tips for missed items.
        </p>
      </div>

      <div class="top-right">
        <div class="points-wrap">
          <div id="points" class="points">0</div>
          <div class="label">Points</div>
        </div>
        <!-- logout button used by script.js -->
        <button id="logoutBtn" class="btn outline" style="margin-left:10px;">Logout</button>
      </div>
    </header>

    <section class="layout">
      <div class="left-col">
        <div id="habitList" class="habit-grid" aria-label="Habits list"></div>

        <div class="controls">
          <button id="finishBtn" class="btn success">Finish Day âœ…</button>
          <button id="prevBtn" class="btn ghost">Previous</button>
          <button id="clearBtn" class="btn outline">Clear</button>
        </div>

        <div id="suggestionsWrap" class="suggestions" style="display:none;">
          <h3>Suggestions & Tips âœ¨</h3>
          <div id="suggestions"></div>
        </div>
      </div>

      <aside class="right-col">
        <div id="dailyChallengeCard" class="card">
          <div class="card-header">
            <strong>Daily Challenge</strong>
            <small id="challengeDate" class="muted"></small>
          </div>

          <div id="dailyChallenge" class="challenge-body">
            <div id="dailyText" class="challenge-text">...</div>

            <label class="challenge-check">
              <input type="checkbox" id="dailyCheck"> I completed the challenge
            </label>

            <div id="dailyReward" class="reward" style="display:none">ğŸ… Badge earned!</div>
          </div>
        </div>

        <div class="card score-card">
          <div class="card-header"><strong>Today's Health %</strong></div>
          <div id="todayScore" class="big-score">0%</div>
        </div>

        <div class="card chart-card">
          <div class="card-header"><strong>Weekly Progress</strong></div>
            <div id="chartWrap">
            <canvas id="weeklyChart"></canvas>
          </div>
        </div>

        <div class="card badges-card">
          <div class="card-header"><strong>Badges</strong></div>
          <div id="badges" class="badges"></div>
        </div>
      </aside>
    </section>
  </main>

  <div id="toast" class="toast" aria-live="polite" style="display:none"></div>

  <!-- Main Habitify logic -->
  <script src="script.js" defer></script>
</body>
</html>
